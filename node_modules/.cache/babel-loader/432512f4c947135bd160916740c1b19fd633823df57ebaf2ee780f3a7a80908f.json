{"ast":null,"code":"import _objectSpread from\"C:/Users/de3pp/OneDrive/Desktop/23CE097/hackout/HACKOUT/HACKOUT/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo}from'react';import{MapContainer,TileLayer,Marker,Popup,Circle,CircleMarker,useMap}from'react-leaflet';import L from'leaflet';import{useMap as useMapHook}from'../contexts/MapContext';import LayerControlPanel from'../components/Map/LayerControlPanel';import SiteInfoPanel from'../components/Map/SiteInfoPanel';import MapToolbar from'../components/Map/MapToolbar';import HeatmapLegend from'../components/Map/HeatmapLegend';import{Eye,EyeOff,Target,Zap}from'lucide-react';// Enhanced mock data with realistic Indian geographical and energy data\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const mockSites=[{id:'1',name:'Jaisalmer Solar Hub',coordinates:[26.9117,70.9228],state:'Rajasthan',district:'Jaisalmer',solarIndex:95,windIndex:65,waterIndex:30,industryProximity:70,gridProximity:85,landAvailability:90,suitabilityScore:88,policyZone:'SEZ',existingInfrastructure:['Solar Plant','Grid Connection']},{id:'2',name:'Gujarat Wind Corridor',coordinates:[22.2587,71.1924],state:'Gujarat',district:'Surendranagar',solarIndex:75,windIndex:92,waterIndex:60,industryProximity:85,gridProximity:90,landAvailability:80,suitabilityScore:85,policyZone:'GIFT City',existingInfrastructure:['Wind Farm','Port Access']},{id:'3',name:'Tamil Nadu Industrial Zone',coordinates:[13.0827,80.2707],state:'Tamil Nadu',district:'Chennai',solarIndex:70,windIndex:60,waterIndex:85,industryProximity:95,gridProximity:90,landAvailability:50,suitabilityScore:78,policyZone:'SEZ',existingInfrastructure:['Industrial Park','Port','Airport']},{id:'4',name:'Karnataka Plateau',coordinates:[14.5,76],state:'Karnataka',district:'Tumkur',solarIndex:80,windIndex:55,waterIndex:65,industryProximity:75,gridProximity:80,landAvailability:85,suitabilityScore:82,policyZone:'Tech Park',existingInfrastructure:['Tech Hub','Grid Connection']},{id:'5',name:'Maharashtra Industrial Cluster',coordinates:[19.5,76],state:'Maharashtra',district:'Aurangabad',solarIndex:72,windIndex:50,waterIndex:70,industryProximity:95,gridProximity:85,landAvailability:60,suitabilityScore:79,policyZone:'SEZ',existingInfrastructure:['Industrial Park','Port','Airport']},{id:'6',name:'Ladakh High-Altitude Desert',coordinates:[34.5,77.5],state:'Ladakh',district:'Leh',solarIndex:90,windIndex:45,waterIndex:20,industryProximity:30,gridProximity:40,landAvailability:95,suitabilityScore:65,policyZone:'Special Category',existingInfrastructure:['Solar Plant']}];// Demand centers data\nconst demandCenters=[{coordinates:[19.0760,72.8777],name:\"Mumbai Industrial Zone\",level:\"Very High\"},{coordinates:[28.6139,77.2090],name:\"Delhi-NCR Demand Center\",level:\"Very High\"},{coordinates:[13.0827,80.2707],name:\"Chennai Industrial Corridor\",level:\"High\"},{coordinates:[22.5726,88.3639],name:\"Kolkata Industrial Area\",level:\"Medium\"},{coordinates:[17.3850,78.4867],name:\"Hyderabad Tech Zone\",level:\"High\"},{coordinates:[26.9124,75.7873],name:\"Jaipur Innovation Hub\",level:\"Medium\"},{coordinates:[12.9716,77.5946],name:\"Bengaluru Tech Corridor\",level:\"Very High\"}];// Heatmap component\nconst HeatmapLayer=_ref=>{let{sites,weights,visible,intensity}=_ref;const map=useMap();const heatmapData=useMemo(()=>{if(!visible)return[];const points=[];for(const site of sites){const score=calculateSuitabilityScore(site,weights);const lat=site.coordinates[0];const lng=site.coordinates[1];// Generate multiple points around the site center for heatmap effect\nconst pointCount=30;for(let i=0;i<pointCount;i++){const latOffset=(Math.random()-0.5)*2;const lngOffset=(Math.random()-0.5)*2;points.push({lat:lat+latOffset,lng:lng+lngOffset,score:score});}}return points;},[sites,weights,visible]);if(!visible)return null;return/*#__PURE__*/_jsx(_Fragment,{children:heatmapData.map((point,index)=>/*#__PURE__*/_jsx(CircleMarker,{center:[point.lat,point.lng],radius:intensity*(point.score/20),pathOptions:{color:getColorForScore(point.score),fillColor:getColorForScore(point.score),fillOpacity:0.6,weight:0}},\"heatmap-\".concat(index)))});};// Helper function to calculate suitability score\nconst calculateSuitabilityScore=(site,weights)=>{let score=0;// Calculate weighted score based on criteria\nscore+=site.solarIndex/100*weights.solar;score+=site.windIndex/100*weights.wind;score+=site.waterIndex/100*weights.water;score+=site.industryProximity/100*weights.industryProximity;score+=site.gridProximity/100*weights.gridProximity;score+=site.landAvailability/100*weights.landAvailability;// Normalize to 100\nreturn Math.min(Math.round(score),100);};// Helper function to get color based on suitability score\nconst getColorForScore=score=>{if(score>=90)return'#1a9850';// Excellent - Green\nif(score>=70)return'#91cf60';// High - Light Green\nif(score>=40)return'#fee090';// Medium - Yellow\nreturn'#d73027';// Low - Red\n};const MapView=()=>{const{state,dispatch}=useMapHook();const[showLayerPanel,setShowLayerPanel]=useState(true);const[showSitePanel,setShowSitePanel]=useState(false);const[selectedSite,setSelectedSite]=useState(null);const[heatmapIntensity,setHeatmapIntensity]=useState(15);const[criteriaWeights,setCriteriaWeights]=useState({solar:35,wind:15,water:20,industryProximity:15,gridProximity:10,landAvailability:5});const handleSiteClick=site=>{setSelectedSite(site);setShowSitePanel(true);dispatch({type:'SELECT_SITE',site});};const handleWeightChange=(key,value)=>{setCriteriaWeights(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const getSuitabilityColor=score=>{return getColorForScore(score);};const getSuitabilityLabel=score=>{if(score>=80)return'Excellent';if(score>=60)return'Good';if(score>=40)return'Moderate';return'Poor';};// Calculate total weight\nconst totalWeight=Object.values(criteriaWeights).reduce((sum,weight)=>sum+weight,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u092D\\u093E\\u0930\\u0924 H2-Atlas - Interactive Map\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"India's first geospatial decision support tool for green hydrogen\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLayerPanel(!showLayerPanel),className:\"btn-secondary flex items-center\",children:[showLayerPanel?/*#__PURE__*/_jsx(EyeOff,{className:\"w-4 h-4 mr-2\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-2\"}),showLayerPanel?'Hide':'Show',\" Layers\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>dispatch({type:'TOGGLE_HEATMAP_MODE'}),className:\"btn-primary flex items-center \".concat(state.heatmapMode?'bg-green-600 hover:bg-green-700':''),children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4 mr-2\"}),state.heatmapMode?'Heatmap On':'Heatmap Mode']})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsxs(MapContainer,{center:[23.5937,78.9629]// Center of India\n,zoom:5,className:\"h-full w-full\",zoomControl:false,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"}),/*#__PURE__*/_jsx(HeatmapLayer,{sites:mockSites,weights:criteriaWeights,visible:state.heatmapMode,intensity:heatmapIntensity}),mockSites.map(site=>{const score=calculateSuitabilityScore(site,criteriaWeights);return/*#__PURE__*/_jsx(Circle,{center:site.coordinates,radius:50000// 50km radius\n,pathOptions:{color:getSuitabilityColor(score),fillColor:getSuitabilityColor(score),fillOpacity:0.3,weight:2},eventHandlers:{click:()=>handleSiteClick(site)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-2\",children:site.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"State:\"}),\" \",site.state]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"District:\"}),\" \",site.district]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Suitability Score:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 suitability-score score-\".concat(getSuitabilityLabel(score).toLowerCase()),children:[score,\"/100\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Policy Zone:\"}),\" \",site.policyZone]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSiteClick(site),className:\"mt-3 w-full btn-primary text-sm py-1\",children:\"View Details\"})]})})},site.id);}),demandCenters.map((center,index)=>/*#__PURE__*/_jsx(Marker,{position:center.coordinates,icon:L.divIcon({html:\"<div class=\\\"demand-marker\\\">\\n                          <i class=\\\"fas fa-industry\\\"></i>\\n                        </div>\",className:'',iconSize:[20,20],iconAnchor:[10,10]}),children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:center.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Demand Level: \",center.level]})]})})},\"demand-\".concat(index))),state.heatmapMode&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 z-[1000]\",children:/*#__PURE__*/_jsx(HeatmapLegend,{})})]}),showLayerPanel&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 z-[1000]\",children:/*#__PURE__*/_jsx(LayerControlPanel,{})}),showLayerPanel&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 z-[1000] mt-80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-80\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 mr-2 text-yellow-600\"}),\"Project Criteria Weights\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[Object.entries(criteriaWeights).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capitalize text-gray-700\",children:key.replace(/([A-Z])/g,' $1')}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-primary-600\",children:[value,\"%\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"100\",value:value,onChange:e=>handleWeightChange(key,parseInt(e.target.value)),className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"})]},key);}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-700\",children:\"Total Weight: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold \".concat(totalWeight===100?'text-green-600':'text-red-600'),children:[totalWeight,\"%\"]})]}),totalWeight!==100&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-500 text-center mt-1\",children:\"Total must equal 100%\"})]})]})]})}),state.heatmapMode&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 z-[1000] mt-48\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-64\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 mb-3\",children:\"Heatmap Intensity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"30\",value:heatmapIntensity,onChange:e=>setHeatmapIntensity(parseInt(e.target.value)),className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Low\"}),/*#__PURE__*/_jsx(\"span\",{children:\"High\"})]})]})}),showSitePanel&&selectedSite&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 z-[1000] w-96\",children:/*#__PURE__*/_jsx(SiteInfoPanel,{site:selectedSite,onClose:()=>{setShowSitePanel(false);setSelectedSite(null);dispatch({type:'SELECT_SITE',site:null});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-4 left-4 z-[1000]\",children:/*#__PURE__*/_jsx(MapToolbar,{})})]})]});};export default MapView;","map":{"version":3,"names":["React","useState","useMemo","MapContainer","TileLayer","Marker","Popup","Circle","CircleMarker","useMap","L","useMapHook","LayerControlPanel","SiteInfoPanel","MapToolbar","HeatmapLegend","Eye","EyeOff","Target","Zap","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","mockSites","id","name","coordinates","state","district","solarIndex","windIndex","waterIndex","industryProximity","gridProximity","landAvailability","suitabilityScore","policyZone","existingInfrastructure","demandCenters","level","HeatmapLayer","_ref","sites","weights","visible","intensity","map","heatmapData","points","site","score","calculateSuitabilityScore","lat","lng","pointCount","i","latOffset","Math","random","lngOffset","push","children","point","index","center","radius","pathOptions","color","getColorForScore","fillColor","fillOpacity","weight","concat","solar","wind","water","min","round","MapView","dispatch","showLayerPanel","setShowLayerPanel","showSitePanel","setShowSitePanel","selectedSite","setSelectedSite","heatmapIntensity","setHeatmapIntensity","criteriaWeights","setCriteriaWeights","handleSiteClick","type","handleWeightChange","key","value","prev","_objectSpread","getSuitabilityColor","getSuitabilityLabel","totalWeight","Object","values","reduce","sum","className","onClick","heatmapMode","zoom","zoomControl","url","attribution","eventHandlers","click","toLowerCase","position","icon","divIcon","html","iconSize","iconAnchor","entries","_ref2","replace","max","onChange","e","parseInt","target","onClose"],"sources":["C:/Users/de3pp/OneDrive/Desktop/23CE097/hackout/HACKOUT/HACKOUT/src/pages/MapView.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Circle, CircleMarker, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { useMap as useMapHook } from '../contexts/MapContext';\r\nimport { MapLayer, SiteData } from '../contexts/MapContext';\r\nimport LayerControlPanel from '../components/Map/LayerControlPanel';\r\nimport SiteInfoPanel from '../components/Map/SiteInfoPanel';\r\nimport MapToolbar from '../components/Map/MapToolbar';\r\nimport HeatmapLegend from '../components/Map/HeatmapLegend';\r\nimport { \r\n  Eye, \r\n  EyeOff, \r\n  Target,\r\n  Zap\r\n} from 'lucide-react';\r\n\r\n// Enhanced mock data with realistic Indian geographical and energy data\r\nconst mockSites: SiteData[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Jaisalmer Solar Hub',\r\n    coordinates: [26.9117, 70.9228],\r\n    state: 'Rajasthan',\r\n    district: 'Jaisalmer',\r\n    solarIndex: 95,\r\n    windIndex: 65,\r\n    waterIndex: 30,\r\n    industryProximity: 70,\r\n    gridProximity: 85,\r\n    landAvailability: 90,\r\n    suitabilityScore: 88,\r\n    policyZone: 'SEZ',\r\n    existingInfrastructure: ['Solar Plant', 'Grid Connection']\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Gujarat Wind Corridor',\r\n    coordinates: [22.2587, 71.1924],\r\n    state: 'Gujarat',\r\n    district: 'Surendranagar',\r\n    solarIndex: 75,\r\n    windIndex: 92,\r\n    waterIndex: 60,\r\n    industryProximity: 85,\r\n    gridProximity: 90,\r\n    landAvailability: 80,\r\n    suitabilityScore: 85,\r\n    policyZone: 'GIFT City',\r\n    existingInfrastructure: ['Wind Farm', 'Port Access']\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Tamil Nadu Industrial Zone',\r\n    coordinates: [13.0827, 80.2707],\r\n    state: 'Tamil Nadu',\r\n    district: 'Chennai',\r\n    solarIndex: 70,\r\n    windIndex: 60,\r\n    waterIndex: 85,\r\n    industryProximity: 95,\r\n    gridProximity: 90,\r\n    landAvailability: 50,\r\n    suitabilityScore: 78,\r\n    policyZone: 'SEZ',\r\n    existingInfrastructure: ['Industrial Park', 'Port', 'Airport']\r\n  },\r\n  {\r\n    id: '4',\r\n    name: 'Karnataka Plateau',\r\n    coordinates: [14.5, 76],\r\n    state: 'Karnataka',\r\n    district: 'Tumkur',\r\n    solarIndex: 80,\r\n    windIndex: 55,\r\n    waterIndex: 65,\r\n    industryProximity: 75,\r\n    gridProximity: 80,\r\n    landAvailability: 85,\r\n    suitabilityScore: 82,\r\n    policyZone: 'Tech Park',\r\n    existingInfrastructure: ['Tech Hub', 'Grid Connection']\r\n  },\r\n  {\r\n    id: '5',\r\n    name: 'Maharashtra Industrial Cluster',\r\n    coordinates: [19.5, 76],\r\n    state: 'Maharashtra',\r\n    district: 'Aurangabad',\r\n    solarIndex: 72,\r\n    windIndex: 50,\r\n    waterIndex: 70,\r\n    industryProximity: 95,\r\n    gridProximity: 85,\r\n    landAvailability: 60,\r\n    suitabilityScore: 79,\r\n    policyZone: 'SEZ',\r\n    existingInfrastructure: ['Industrial Park', 'Port', 'Airport']\r\n  },\r\n  {\r\n    id: '6',\r\n    name: 'Ladakh High-Altitude Desert',\r\n    coordinates: [34.5, 77.5],\r\n    state: 'Ladakh',\r\n    district: 'Leh',\r\n    solarIndex: 90,\r\n    windIndex: 45,\r\n    waterIndex: 20,\r\n    industryProximity: 30,\r\n    gridProximity: 40,\r\n    landAvailability: 95,\r\n    suitabilityScore: 65,\r\n    policyZone: 'Special Category',\r\n    existingInfrastructure: ['Solar Plant']\r\n  }\r\n];\r\n\r\n// Demand centers data\r\nconst demandCenters = [\r\n  { coordinates: [19.0760, 72.8777], name: \"Mumbai Industrial Zone\", level: \"Very High\" },\r\n  { coordinates: [28.6139, 77.2090], name: \"Delhi-NCR Demand Center\", level: \"Very High\" },\r\n  { coordinates: [13.0827, 80.2707], name: \"Chennai Industrial Corridor\", level: \"High\" },\r\n  { coordinates: [22.5726, 88.3639], name: \"Kolkata Industrial Area\", level: \"Medium\" },\r\n  { coordinates: [17.3850, 78.4867], name: \"Hyderabad Tech Zone\", level: \"High\" },\r\n  { coordinates: [26.9124, 75.7873], name: \"Jaipur Innovation Hub\", level: \"Medium\" },\r\n  { coordinates: [12.9716, 77.5946], name: \"Bengaluru Tech Corridor\", level: \"Very High\" }\r\n];\r\n\r\n// Heatmap component\r\nconst HeatmapLayer: React.FC<{ \r\n  sites: SiteData[], \r\n  weights: any, \r\n  visible: boolean,\r\n  intensity: number \r\n}> = ({ sites, weights, visible, intensity }) => {\r\n  const map = useMap();\r\n  \r\n  const heatmapData = useMemo(() => {\r\n    if (!visible) return [];\r\n    \r\n    const points = [];\r\n    for (const site of sites) {\r\n      const score = calculateSuitabilityScore(site, weights);\r\n      const lat = site.coordinates[0];\r\n      const lng = site.coordinates[1];\r\n      \r\n      // Generate multiple points around the site center for heatmap effect\r\n      const pointCount = 30;\r\n      for (let i = 0; i < pointCount; i++) {\r\n        const latOffset = (Math.random() - 0.5) * 2;\r\n        const lngOffset = (Math.random() - 0.5) * 2;\r\n        \r\n        points.push({\r\n          lat: lat + latOffset,\r\n          lng: lng + lngOffset,\r\n          score: score\r\n        });\r\n      }\r\n    }\r\n    return points;\r\n  }, [sites, weights, visible]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <>\r\n      {heatmapData.map((point, index) => (\r\n        <CircleMarker\r\n          key={`heatmap-${index}`}\r\n          center={[point.lat, point.lng]}\r\n          radius={intensity * (point.score / 20)}\r\n          pathOptions={{\r\n            color: getColorForScore(point.score),\r\n            fillColor: getColorForScore(point.score),\r\n            fillOpacity: 0.6,\r\n            weight: 0\r\n          }}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\n// Helper function to calculate suitability score\r\nconst calculateSuitabilityScore = (site: SiteData, weights: any) => {\r\n  let score = 0;\r\n  \r\n  // Calculate weighted score based on criteria\r\n  score += (site.solarIndex / 100) * weights.solar;\r\n  score += (site.windIndex / 100) * weights.wind;\r\n  score += (site.waterIndex / 100) * weights.water;\r\n  score += (site.industryProximity / 100) * weights.industryProximity;\r\n  score += (site.gridProximity / 100) * weights.gridProximity;\r\n  score += (site.landAvailability / 100) * weights.landAvailability;\r\n  \r\n  // Normalize to 100\r\n  return Math.min(Math.round(score), 100);\r\n};\r\n\r\n// Helper function to get color based on suitability score\r\nconst getColorForScore = (score: number) => {\r\n  if (score >= 90) return '#1a9850'; // Excellent - Green\r\n  if (score >= 70) return '#91cf60'; // High - Light Green\r\n  if (score >= 40) return '#fee090'; // Medium - Yellow\r\n  return '#d73027'; // Low - Red\r\n};\r\n\r\nconst MapView: React.FC = () => {\r\n  const { state, dispatch } = useMapHook();\r\n  const [showLayerPanel, setShowLayerPanel] = useState(true);\r\n  const [showSitePanel, setShowSitePanel] = useState(false);\r\n  const [selectedSite, setSelectedSite] = useState<SiteData | null>(null);\r\n  const [heatmapIntensity, setHeatmapIntensity] = useState(15);\r\n  const [criteriaWeights, setCriteriaWeights] = useState({\r\n    solar: 35,\r\n    wind: 15,\r\n    water: 20,\r\n    industryProximity: 15,\r\n    gridProximity: 10,\r\n    landAvailability: 5\r\n  });\r\n\r\n  const handleSiteClick = (site: SiteData) => {\r\n    setSelectedSite(site);\r\n    setShowSitePanel(true);\r\n    dispatch({ type: 'SELECT_SITE', site });\r\n  };\r\n\r\n  const handleWeightChange = (key: string, value: number) => {\r\n    setCriteriaWeights(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const getSuitabilityColor = (score: number) => {\r\n    return getColorForScore(score);\r\n  };\r\n\r\n  const getSuitabilityLabel = (score: number) => {\r\n    if (score >= 80) return 'Excellent';\r\n    if (score >= 60) return 'Good';\r\n    if (score >= 40) return 'Moderate';\r\n    return 'Poor';\r\n  };\r\n\r\n  // Calculate total weight\r\n  const totalWeight = Object.values(criteriaWeights).reduce((sum, weight) => sum + weight, 0);\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Map Header */}\r\n      <div className=\"bg-white border-b border-gray-200 px-6 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">भारत H2-Atlas - Interactive Map</h1>\r\n            <p className=\"text-gray-600\">India's first geospatial decision support tool for green hydrogen</p>\r\n          </div>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <button\r\n              onClick={() => setShowLayerPanel(!showLayerPanel)}\r\n              className=\"btn-secondary flex items-center\"\r\n            >\r\n              {showLayerPanel ? <EyeOff className=\"w-4 h-4 mr-2\" /> : <Eye className=\"w-4 h-4 mr-2\" />}\r\n              {showLayerPanel ? 'Hide' : 'Show'} Layers\r\n            </button>\r\n            <button\r\n              onClick={() => dispatch({ type: 'TOGGLE_HEATMAP_MODE' })}\r\n              className={`btn-primary flex items-center ${state.heatmapMode ? 'bg-green-600 hover:bg-green-700' : ''}`}\r\n            >\r\n              <Target className=\"w-4 h-4 mr-2\" />\r\n              {state.heatmapMode ? 'Heatmap On' : 'Heatmap Mode'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      <div className=\"flex-1 relative\">\r\n        <MapContainer\r\n          center={[23.5937, 78.9629]} // Center of India\r\n          zoom={5}\r\n          className=\"h-full w-full\"\r\n          zoomControl={false}\r\n        >\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n\r\n          {/* Heatmap Layer */}\r\n          <HeatmapLayer \r\n            sites={mockSites}\r\n            weights={criteriaWeights}\r\n            visible={state.heatmapMode}\r\n            intensity={heatmapIntensity}\r\n          />\r\n\r\n          {/* Render sites as markers */}\r\n          {mockSites.map((site) => {\r\n            const score = calculateSuitabilityScore(site, criteriaWeights);\r\n            return (\r\n              <Circle\r\n                key={site.id}\r\n                center={site.coordinates}\r\n                radius={50000} // 50km radius\r\n                pathOptions={{\r\n                  color: getSuitabilityColor(score),\r\n                  fillColor: getSuitabilityColor(score),\r\n                  fillOpacity: 0.3,\r\n                  weight: 2\r\n                }}\r\n                eventHandlers={{\r\n                  click: () => handleSiteClick(site)\r\n                }}\r\n              >\r\n                <Popup>\r\n                  <div className=\"p-2\">\r\n                    <h3 className=\"font-semibold text-gray-900 mb-2\">{site.name}</h3>\r\n                    <div className=\"space-y-1 text-sm\">\r\n                      <p><strong>State:</strong> {site.state}</p>\r\n                      <p><strong>District:</strong> {site.district}</p>\r\n                      <p><strong>Suitability Score:</strong> \r\n                        <span className={`ml-2 suitability-score score-${getSuitabilityLabel(score).toLowerCase()}`}>\r\n                          {score}/100\r\n                        </span>\r\n                      </p>\r\n                      <p><strong>Policy Zone:</strong> {site.policyZone}</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleSiteClick(site)}\r\n                      className=\"mt-3 w-full btn-primary text-sm py-1\"\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                  </div>\r\n                </Popup>\r\n              </Circle>\r\n            );\r\n          })}\r\n\r\n          {/* Demand Centers */}\r\n          {demandCenters.map((center, index) => (\r\n            <Marker\r\n              key={`demand-${index}`}\r\n              position={center.coordinates as [number, number]}\r\n              icon={L.divIcon({\r\n                html: `<div class=\"demand-marker\">\r\n                          <i class=\"fas fa-industry\"></i>\r\n                        </div>`,\r\n                className: '',\r\n                iconSize: [20, 20],\r\n                iconAnchor: [10, 10]\r\n              })}\r\n            >\r\n              <Popup>\r\n                <div className=\"p-2\">\r\n                  <h3 className=\"font-semibold text-gray-900\">{center.name}</h3>\r\n                  <p className=\"text-sm text-gray-600\">Demand Level: {center.level}</p>\r\n                </div>\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n\r\n          {/* Heatmap legend when enabled */}\r\n          {state.heatmapMode && (\r\n            <div className=\"absolute top-4 right-4 z-[1000]\">\r\n              <HeatmapLegend />\r\n            </div>\r\n          )}\r\n        </MapContainer>\r\n\r\n        {/* Layer Control Panel */}\r\n        {showLayerPanel && (\r\n          <div className=\"absolute top-4 left-4 z-[1000]\">\r\n            <LayerControlPanel />\r\n          </div>\r\n        )}\r\n\r\n        {/* Criteria Weights Panel */}\r\n        {showLayerPanel && (\r\n          <div className=\"absolute top-4 left-4 z-[1000] mt-80\">\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-80\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <Zap className=\"w-5 h-5 mr-2 text-yellow-600\" />\r\n                Project Criteria Weights\r\n              </h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {Object.entries(criteriaWeights).map(([key, value]) => (\r\n                  <div key={key} className=\"space-y-2\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"capitalize text-gray-700\">{key.replace(/([A-Z])/g, ' $1')}</span>\r\n                      <span className=\"font-semibold text-primary-600\">{value}%</span>\r\n                    </div>\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0\"\r\n                      max=\"100\"\r\n                      value={value}\r\n                      onChange={(e) => handleWeightChange(key, parseInt(e.target.value))}\r\n                      className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n                \r\n                <div className=\"pt-2 border-t border-gray-200\">\r\n                  <div className=\"text-center\">\r\n                    <span className=\"text-sm font-semibold text-gray-700\">Total Weight: </span>\r\n                    <span className={`text-lg font-bold ${totalWeight === 100 ? 'text-green-600' : 'text-red-600'}`}>\r\n                      {totalWeight}%\r\n                    </span>\r\n                  </div>\r\n                  {totalWeight !== 100 && (\r\n                    <p className=\"text-xs text-red-500 text-center mt-1\">\r\n                      Total must equal 100%\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Heatmap Intensity Control */}\r\n        {state.heatmapMode && (\r\n          <div className=\"absolute top-4 right-4 z-[1000] mt-48\">\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-64\">\r\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Heatmap Intensity</h4>\r\n              <input\r\n                type=\"range\"\r\n                min=\"1\"\r\n                max=\"30\"\r\n                value={heatmapIntensity}\r\n                onChange={(e) => setHeatmapIntensity(parseInt(e.target.value))}\r\n                className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\r\n              />\r\n              <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                <span>Low</span>\r\n                <span>High</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Site Information Panel */}\r\n        {showSitePanel && selectedSite && (\r\n          <div className=\"absolute top-4 right-4 z-[1000] w-96\">\r\n            <SiteInfoPanel \r\n              site={selectedSite} \r\n              onClose={() => {\r\n                setShowSitePanel(false);\r\n                setSelectedSite(null);\r\n                dispatch({ type: 'SELECT_SITE', site: null });\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Map Toolbar */}\r\n        <div className=\"absolute bottom-4 left-4 z-[1000]\">\r\n          <MapToolbar />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}