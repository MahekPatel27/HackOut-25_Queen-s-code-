{"ast":null,"code":"import _objectSpread from\"C:/Users/de3pp/OneDrive/Desktop/23CE097/hackout/HACKOUT/HACKOUT/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const initialState={layers:[{id:'solar',name:'Solar Potential',visible:true,opacity:0.7,type:'solar',color:'#f59e0b'},{id:'wind',name:'Wind Potential',visible:true,opacity:0.7,type:'wind',color:'#3b82f6'},{id:'water',name:'Water Availability',visible:true,opacity:0.7,type:'water',color:'#0ea5e9'},{id:'grid',name:'Power Grid & Transport',visible:true,opacity:0.8,type:'grid',color:'#8b5cf6'},{id:'landuse',name:'Land Use',visible:false,opacity:0.6,type:'landuse',color:'#84cc16'},{id:'infrastructure',name:'Existing Infrastructure',visible:true,opacity:0.9,type:'infrastructure',color:'#ef4444'}],suitabilityWeights:{solar:30,wind:25,water:20,industryProximity:15,gridProximity:5,landAvailability:5},selectedSite:null,heatmapMode:false,searchQuery:'',filteredSites:[]};function mapReducer(state,action){switch(action.type){case'TOGGLE_LAYER':return _objectSpread(_objectSpread({},state),{},{layers:state.layers.map(layer=>layer.id===action.layerId?_objectSpread(_objectSpread({},layer),{},{visible:!layer.visible}):layer)});case'SET_LAYER_OPACITY':return _objectSpread(_objectSpread({},state),{},{layers:state.layers.map(layer=>layer.id===action.layerId?_objectSpread(_objectSpread({},layer),{},{opacity:action.opacity}):layer)});case'UPDATE_SUITABILITY_WEIGHTS':return _objectSpread(_objectSpread({},state),{},{suitabilityWeights:_objectSpread(_objectSpread({},state.suitabilityWeights),action.weights)});case'SELECT_SITE':return _objectSpread(_objectSpread({},state),{},{selectedSite:action.site});case'TOGGLE_HEATMAP_MODE':return _objectSpread(_objectSpread({},state),{},{heatmapMode:!state.heatmapMode});case'SET_SEARCH_QUERY':return _objectSpread(_objectSpread({},state),{},{searchQuery:action.query});case'SET_FILTERED_SITES':return _objectSpread(_objectSpread({},state),{},{filteredSites:action.sites});default:return state;}}const MapContext=/*#__PURE__*/createContext(undefined);export function MapProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(mapReducer,initialState);return/*#__PURE__*/_jsx(MapContext.Provider,{value:{state,dispatch},children:children});}export function useMap(){const context=useContext(MapContext);if(context===undefined){throw new Error('useMap must be used within a MapProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","initialState","layers","id","name","visible","opacity","type","color","suitabilityWeights","solar","wind","water","industryProximity","gridProximity","landAvailability","selectedSite","heatmapMode","searchQuery","filteredSites","mapReducer","state","action","_objectSpread","map","layer","layerId","weights","site","query","sites","MapContext","undefined","MapProvider","_ref","children","dispatch","Provider","value","useMap","context","Error"],"sources":["C:/Users/de3pp/OneDrive/Desktop/23CE097/hackout/HACKOUT/HACKOUT/src/contexts/MapContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, ReactNode } from 'react';\r\n\r\nexport interface MapLayer {\r\n  id: string;\r\n  name: string;\r\n  visible: boolean;\r\n  opacity: number;\r\n  type: 'solar' | 'wind' | 'water' | 'grid' | 'landuse' | 'infrastructure';\r\n  color: string;\r\n}\r\n\r\nexport interface SuitabilityWeights {\r\n  solar: number;\r\n  wind: number;\r\n  water: number;\r\n  industryProximity: number;\r\n  gridProximity: number;\r\n  landAvailability: number;\r\n}\r\n\r\nexport interface SiteData {\r\n  id: string;\r\n  name: string;\r\n  coordinates: [number, number];\r\n  state: string;\r\n  district: string;\r\n  solarIndex: number;\r\n  windIndex: number;\r\n  waterIndex: number;\r\n  industryProximity: number;\r\n  gridProximity: number;\r\n  landAvailability: number;\r\n  suitabilityScore: number;\r\n  policyZone: string;\r\n  existingInfrastructure: string[];\r\n}\r\n\r\ninterface MapState {\r\n  layers: MapLayer[];\r\n  suitabilityWeights: SuitabilityWeights;\r\n  selectedSite: SiteData | null;\r\n  heatmapMode: boolean;\r\n  searchQuery: string;\r\n  filteredSites: SiteData[];\r\n}\r\n\r\ntype MapAction =\r\n  | { type: 'TOGGLE_LAYER'; layerId: string }\r\n  | { type: 'SET_LAYER_OPACITY'; layerId: string; opacity: number }\r\n  | { type: 'UPDATE_SUITABILITY_WEIGHTS'; weights: Partial<SuitabilityWeights> }\r\n  | { type: 'SELECT_SITE'; site: SiteData | null }\r\n  | { type: 'TOGGLE_HEATMAP_MODE' }\r\n  | { type: 'SET_SEARCH_QUERY'; query: string }\r\n  | { type: 'SET_FILTERED_SITES'; sites: SiteData[] };\r\n\r\nconst initialState: MapState = {\r\n  layers: [\r\n    { id: 'solar', name: 'Solar Potential', visible: true, opacity: 0.7, type: 'solar', color: '#f59e0b' },\r\n    { id: 'wind', name: 'Wind Potential', visible: true, opacity: 0.7, type: 'wind', color: '#3b82f6' },\r\n    { id: 'water', name: 'Water Availability', visible: true, opacity: 0.7, type: 'water', color: '#0ea5e9' },\r\n    { id: 'grid', name: 'Power Grid & Transport', visible: true, opacity: 0.8, type: 'grid', color: '#8b5cf6' },\r\n    { id: 'landuse', name: 'Land Use', visible: false, opacity: 0.6, type: 'landuse', color: '#84cc16' },\r\n    { id: 'infrastructure', name: 'Existing Infrastructure', visible: true, opacity: 0.9, type: 'infrastructure', color: '#ef4444' },\r\n  ],\r\n  suitabilityWeights: {\r\n    solar: 30,\r\n    wind: 25,\r\n    water: 20,\r\n    industryProximity: 15,\r\n    gridProximity: 5,\r\n    landAvailability: 5,\r\n  },\r\n  selectedSite: null,\r\n  heatmapMode: false,\r\n  searchQuery: '',\r\n  filteredSites: [],\r\n};\r\n\r\nfunction mapReducer(state: MapState, action: MapAction): MapState {\r\n  switch (action.type) {\r\n    case 'TOGGLE_LAYER':\r\n      return {\r\n        ...state,\r\n        layers: state.layers.map(layer =>\r\n          layer.id === action.layerId\r\n            ? { ...layer, visible: !layer.visible }\r\n            : layer\r\n        ),\r\n      };\r\n    case 'SET_LAYER_OPACITY':\r\n      return {\r\n        ...state,\r\n        layers: state.layers.map(layer =>\r\n          layer.id === action.layerId\r\n            ? { ...layer, opacity: action.opacity }\r\n            : layer\r\n        ),\r\n      };\r\n    case 'UPDATE_SUITABILITY_WEIGHTS':\r\n      return {\r\n        ...state,\r\n        suitabilityWeights: { ...state.suitabilityWeights, ...action.weights },\r\n      };\r\n    case 'SELECT_SITE':\r\n      return {\r\n        ...state,\r\n        selectedSite: action.site,\r\n      };\r\n    case 'TOGGLE_HEATMAP_MODE':\r\n      return {\r\n        ...state,\r\n        heatmapMode: !state.heatmapMode,\r\n      };\r\n    case 'SET_SEARCH_QUERY':\r\n      return {\r\n        ...state,\r\n        searchQuery: action.query,\r\n      };\r\n    case 'SET_FILTERED_SITES':\r\n      return {\r\n        ...state,\r\n        filteredSites: action.sites,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface MapContextType {\r\n  state: MapState;\r\n  dispatch: React.Dispatch<MapAction>;\r\n}\r\n\r\nconst MapContext = createContext<MapContextType | undefined>(undefined);\r\n\r\nexport function MapProvider({ children }: { children: ReactNode }) {\r\n  const [state, dispatch] = useReducer(mapReducer, initialState);\r\n\r\n  return (\r\n    <MapContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </MapContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useMap() {\r\n  const context = useContext(MapContext);\r\n  if (context === undefined) {\r\n    throw new Error('useMap must be used within a MapProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}